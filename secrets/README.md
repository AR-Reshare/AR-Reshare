### Secrets Folder

This folder is a place to store the private-keys, api-keys and configs which contain those.

The sensitive information required by our application is listed below:

- JWT Encryption Key
  - Our current token-based authentication uses symmetric key encryption, so the key must remain secret
- DB Connection Config (incl. password)
  - Our current implementation uses a randomly generated 32 byte string password
- Email Response (Transactional Email)
  - Our current implementation sends SMTP email requests to SendGrid, so requires a configuration file that includes the api-key
- Media Handler (Cloudinary)
  - This requires an account with Cloudinary for image hosting, the configuration file will include api key, secret, and cloud name
<!-- (In development)
- Push Notifications (FCM-Messaging)
  - This requires us to have a Service Account SDK to authorize requests to the FCM backend service - Configuration file that includes api-key
  - NOTE: There exists a google-services.json that can be downloaded -- however this is for the Android client, not for our backend-service
-->

#### Generating Secrets

##### Secrets that are generated by setup

- JWT Encryption Key (Symmetric) 
  - Generated when running npm setup scripts
  - The key is stored in `secrets/jwtsymmetric.key`
- DB Connection Config
  - Generated when running npm setup scripts
  - The config is stored in `secrets/dbconnection.json`
- Password Hashing
  - Passwords are salted and peppered using the bcrypt algorithm

##### Secrets that the admin/user needs to setup

- Transaction Email (SendGrid)
  1. Create an account or login with [SendGrid](https://sendgrid.com)
  2. Follow the [instructions](https://docs.sendgrid.com/for-developers/sending-email/integrating-with-the-smtp-api) in order to generate an API-Key
  3. Update [`secrets/emailconnection.conf`](emailconnection.conf) boilerplate with the corresponding API-Key in the api-key attribute
- Media Handling (Cloudinary)
  1. Create an account or login with [Cloudinary](https://cloudinary.com/) and select the "Programmable Media for image and video API" product from the list
  2. Once logged in, go the [console](https://cloudinary.com/console/) and visit your dashboard
  3. Copy the "Cloud name", "API key", and "API secret" into the relevant places in the [`secrets/mediaconnection.json`](mediaconnection.json) boilerplate
<!-- (In development)
- Push Notifications (FCM)
  1. Login to [Firebase](https://firebase.google.com/)
  2. Go to the [console](https://console.firebase.google.com/)
  3. Download the servicesAccount file for [FCM Admin SDK](https://console.firebase.google.com/project/${projectID}/settings/serviceaccounts/adminsdk)
  4. Store the file as `secrets/firebaseServiceAccount.json`
-->
